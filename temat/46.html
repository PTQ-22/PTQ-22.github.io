<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Programowanie i Algorytmika</title><meta name="next-head-count" content="3"/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-3433a2a2d0cf6fb6.js" defer=""></script><script src="/_next/static/chunks/framework-9b5d6ec4444c80fa.js" defer=""></script><script src="/_next/static/chunks/main-3123a443c688934f.js" defer=""></script><script src="/_next/static/chunks/pages/_app-dde6f6d9ff81fd35.js" defer=""></script><script src="/_next/static/chunks/664-ac1349529b76e794.js" defer=""></script><script src="/_next/static/chunks/589-41a19a63300fd6d7.js" defer=""></script><script src="/_next/static/chunks/pages/temat/%5Bid%5D-7adb0dadbad8d3b7.js" defer=""></script><script src="/_next/static/0i7uSj_HNaIBx2Ymanoqf/_buildManifest.js" defer=""></script><script src="/_next/static/0i7uSj_HNaIBx2Ymanoqf/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="sc-cfead117-0 jrQalH"><nav class="sc-5e5d03dd-0 esgUiK"><div class="sc-8cb5f743-0 iJvBAS"></div><h1>Pole wielokąta wypukłego</h1></nav><main class="sc-9cb9d9d3-1 jUkdLw"><section class="sc-9cb9d9d3-2 eEYnhx"></section><section class="sc-9cb9d9d3-3 gsbrmT"><pre style="display:block;overflow-x:auto;padding:0.5em;color:#abb2bf;background:#282c34"><code class="language-cpp" style="white-space:pre"><span style="color:#61aeee">#</span><span class="hljs-meta-keyword" style="color:#61aeee">include</span><span style="color:#61aeee"> </span><span style="color:#98c379">&lt;iostream&gt;</span><span>
</span><span></span><span style="color:#61aeee">#</span><span class="hljs-meta-keyword" style="color:#61aeee">include</span><span style="color:#61aeee"> </span><span style="color:#98c379">&lt;vector&gt;</span><span>
</span><span></span><span style="color:#61aeee">#</span><span class="hljs-meta-keyword" style="color:#61aeee">include</span><span style="color:#61aeee"> </span><span style="color:#98c379">&lt;cmath&gt;</span><span>
</span><span></span><span style="color:#61aeee">#</span><span class="hljs-meta-keyword" style="color:#61aeee">include</span><span style="color:#61aeee"> </span><span style="color:#98c379">&lt;set&gt;</span><span>
</span><span></span><span style="color:#61aeee">#</span><span class="hljs-meta-keyword" style="color:#61aeee">include</span><span style="color:#61aeee"> </span><span style="color:#98c379">&lt;iomanip&gt;</span><span>
</span><span></span><span style="color:#F92672">using</span><span> </span><span style="color:#F92672">namespace</span><span> std;
</span>
<span></span><span class="hljs-class" style="color:#F92672">struct</span><span class="hljs-class"> </span><span class="hljs-class" style="color:#61aeee">Point</span><span class="hljs-class">
</span><span class="hljs-class">{</span><span>
</span><span>    </span><span style="color:#F92672">int</span><span> x;
</span><span>    </span><span style="color:#F92672">int</span><span> y;
</span>};
<!-- -->
<span></span><span class="hljs-class" style="color:#F92672">struct</span><span class="hljs-class"> </span><span class="hljs-class" style="color:#61aeee">Triangle</span><span class="hljs-class">
</span><span class="hljs-class">{</span><span>
</span>    Point a, b, c;
<!-- -->};
<!-- -->
<span></span><span style="color:#F92672">double</span><span style="color:#61aeee"> </span><span style="color:#61aeee">distance</span><span style="color:#61aeee">(Point a, Point b)</span><span style="color:#61aeee">
</span><span style="color:#61aeee"></span><span>{
</span><span>    </span><span style="color:#F92672">return</span><span> </span><span style="color:#e6c07b">sqrt</span><span>((a.x - b.x) * (a.x - b.x) + (a.y - b.y) * (a.y - b.y));
</span>}
<!-- -->
<span></span><span style="color:#F92672">double</span><span style="color:#61aeee"> </span><span style="color:#61aeee">triangleHeronField</span><span style="color:#61aeee">(Triangle tr)</span><span style="color:#61aeee">
</span><span style="color:#61aeee"></span><span>{
</span><span>    </span><span style="color:#F92672">double</span><span> a = </span><span style="color:#e6c07b">distance</span><span>(tr.c, tr.b);
</span><span>    </span><span style="color:#F92672">double</span><span> b = </span><span style="color:#e6c07b">distance</span><span>(tr.a, tr.c);
</span><span>    </span><span style="color:#F92672">double</span><span> c = </span><span style="color:#e6c07b">distance</span><span>(tr.a, tr.b);
</span>
<span>    </span><span style="color:#F92672">double</span><span> p = (a + b + c) / </span><span style="color:#d19a66">2</span><span>;
</span>
<span>    </span><span style="color:#F92672">return</span><span> </span><span style="color:#e6c07b">sqrt</span><span>(p * (p - a) * (p - b) * (p - c));
</span>}
<!-- -->
<span></span><span style="color:#F92672">double</span><span style="color:#61aeee"> </span><span style="color:#61aeee">polygonFieldFromFirstPoint</span><span style="color:#61aeee">(vector&lt;Point&gt; &amp;points)</span><span style="color:#61aeee">
</span><span style="color:#61aeee"></span><span>{
</span><span>    </span><span style="color:#F92672">double</span><span> field = </span><span style="color:#d19a66">0</span><span>;
</span><span>    </span><span style="color:#F92672">for</span><span> (</span><span style="color:#F92672">int</span><span> i = </span><span style="color:#d19a66">2</span><span>; i &lt; points.</span><span style="color:#e6c07b">size</span><span>(); ++i)
</span>    {
<span>        Triangle tr = {points[</span><span style="color:#d19a66">0</span><span>], points[i - </span><span style="color:#d19a66">1</span><span>], points[i]};
</span><span>        field += </span><span style="color:#e6c07b">triangleHeronField</span><span>(tr);
</span>    }
<span>    </span><span style="color:#F92672">return</span><span> field;
</span>}
<!-- -->
<span></span><span style="color:#F92672">double</span><span style="color:#61aeee"> </span><span style="color:#61aeee">polygonFieldFromAnyPoint</span><span style="color:#61aeee">(vector&lt;Point&gt; &amp;points, Point anyPoint)</span><span style="color:#61aeee">
</span><span style="color:#61aeee"></span><span>{
</span><span>    </span><span style="color:#F92672">double</span><span> field = </span><span style="color:#d19a66">0</span><span>;
</span><span>    </span><span style="color:#F92672">int</span><span> n = points.</span><span style="color:#e6c07b">size</span><span>();
</span><span>    </span><span style="color:#F92672">for</span><span> (</span><span style="color:#F92672">int</span><span> i = </span><span style="color:#d19a66">1</span><span>; i &lt; n; ++i)
</span>    {
<span>        Triangle tr = {anyPoint, points[i - </span><span style="color:#d19a66">1</span><span>], points[i]};
</span><span>        field += </span><span style="color:#e6c07b">triangleHeronField</span><span>(tr);
</span>    }
<span>    Triangle tr = {anyPoint, points[n - </span><span style="color:#d19a66">1</span><span>], points[</span><span style="color:#d19a66">0</span><span>]};
</span><span>    field += </span><span style="color:#e6c07b">triangleHeronField</span><span>(tr);
</span><span>    </span><span style="color:#F92672">return</span><span> field;
</span>}
<!-- -->
<span></span><span style="color:#F92672">int</span><span style="color:#61aeee"> </span><span style="color:#61aeee">main</span><span style="color:#61aeee">()</span><span style="color:#61aeee">
</span><span style="color:#61aeee"></span><span>{
</span><span>    ios_base::</span><span style="color:#e6c07b">sync_with_stdio</span><span>(</span><span style="color:#56b6c2">false</span><span>);
</span><span>    cin.</span><span style="color:#e6c07b">tie</span><span>(</span><span style="color:#56b6c2">nullptr</span><span>);
</span>
<span>    </span><span style="color:#F92672">int</span><span> n;
</span>    cin &gt;&gt; n;
<!-- -->
<span>    </span><span style="color:#61aeee">vector&lt;Point&gt; </span><span style="color:#61aeee">points</span><span style="color:#61aeee">(n)</span><span>;
</span><span>    </span><span style="color:#F92672">for</span><span> (</span><span style="color:#F92672">int</span><span> i = </span><span style="color:#d19a66">0</span><span>; i &lt; n; ++i)
</span>    {
<!-- -->        Point p;
<!-- -->        cin &gt;&gt; p.x &gt;&gt; p.y;
<!-- -->        points[i] = p;
<!-- -->    }
<!-- -->
<span>    </span><span style="color:#F92672">double</span><span> fieldFromFirstPoint = </span><span style="color:#e6c07b">polygonFieldFromFirstPoint</span><span>(points);
</span><span>    cout &lt;&lt; </span><span style="color:#e6c07b">setprecision</span><span>(</span><span style="color:#d19a66">1</span><span>) &lt;&lt; fixed;
</span><span>    cout &lt;&lt; fieldFromFirstPoint &lt;&lt; </span><span style="color:#98c379">&#x27;\n&#x27;</span><span>;
</span>
<span>    </span><span style="color:#F92672">int</span><span> m;
</span>    cin &gt;&gt; m;
<!-- -->
<span>    </span><span style="color:#F92672">while</span><span> (m--)
</span>    {
<!-- -->        Point p;
<!-- -->        cin &gt;&gt; p.x &gt;&gt; p.y;
<span>        </span><span style="color:#F92672">double</span><span> fieldFromAnyPoint = </span><span style="color:#e6c07b">polygonFieldFromAnyPoint</span><span>(points, p);
</span><span>        </span><span style="color:#F92672">if</span><span> (</span><span style="color:#e6c07b">fabs</span><span>(fieldFromFirstPoint - fieldFromAnyPoint) &lt; </span><span style="color:#d19a66">0.01</span><span>)
</span>        {
<span>            cout &lt;&lt; </span><span style="color:#98c379">&quot;TAK\n&quot;</span><span>;
</span>        }
<span>        </span><span style="color:#F92672">else</span><span>
</span>        {
<span>            cout &lt;&lt; </span><span style="color:#98c379">&quot;NIE\n&quot;</span><span>;
</span>        }
<!-- -->    }
<!-- -->
<span>    </span><span style="color:#F92672">return</span><span> </span><span style="color:#d19a66">0</span><span>;
</span>}
</code></pre><div class="sc-9cb9d9d3-4 cYHBC">Kopiuj<!-- --> </div></section></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"subject":{"id":46,"name":"Pole wielokąta wypukłego","description":"","code":"#include \u003ciostream\u003e\r\n#include \u003cvector\u003e\r\n#include \u003ccmath\u003e\r\n#include \u003cset\u003e\r\n#include \u003ciomanip\u003e\r\nusing namespace std;\r\n\r\nstruct Point\r\n{\r\n    int x;\r\n    int y;\r\n};\r\n\r\nstruct Triangle\r\n{\r\n    Point a, b, c;\r\n};\r\n\r\ndouble distance(Point a, Point b)\r\n{\r\n    return sqrt((a.x - b.x) * (a.x - b.x) + (a.y - b.y) * (a.y - b.y));\r\n}\r\n\r\ndouble triangleHeronField(Triangle tr)\r\n{\r\n    double a = distance(tr.c, tr.b);\r\n    double b = distance(tr.a, tr.c);\r\n    double c = distance(tr.a, tr.b);\r\n\r\n    double p = (a + b + c) / 2;\r\n\r\n    return sqrt(p * (p - a) * (p - b) * (p - c));\r\n}\r\n\r\ndouble polygonFieldFromFirstPoint(vector\u003cPoint\u003e \u0026points)\r\n{\r\n    double field = 0;\r\n    for (int i = 2; i \u003c points.size(); ++i)\r\n    {\r\n        Triangle tr = {points[0], points[i - 1], points[i]};\r\n        field += triangleHeronField(tr);\r\n    }\r\n    return field;\r\n}\r\n\r\ndouble polygonFieldFromAnyPoint(vector\u003cPoint\u003e \u0026points, Point anyPoint)\r\n{\r\n    double field = 0;\r\n    int n = points.size();\r\n    for (int i = 1; i \u003c n; ++i)\r\n    {\r\n        Triangle tr = {anyPoint, points[i - 1], points[i]};\r\n        field += triangleHeronField(tr);\r\n    }\r\n    Triangle tr = {anyPoint, points[n - 1], points[0]};\r\n    field += triangleHeronField(tr);\r\n    return field;\r\n}\r\n\r\nint main()\r\n{\r\n    ios_base::sync_with_stdio(false);\r\n    cin.tie(nullptr);\r\n\r\n    int n;\r\n    cin \u003e\u003e n;\r\n\r\n    vector\u003cPoint\u003e points(n);\r\n    for (int i = 0; i \u003c n; ++i)\r\n    {\r\n        Point p;\r\n        cin \u003e\u003e p.x \u003e\u003e p.y;\r\n        points[i] = p;\r\n    }\r\n\r\n    double fieldFromFirstPoint = polygonFieldFromFirstPoint(points);\r\n    cout \u003c\u003c setprecision(1) \u003c\u003c fixed;\r\n    cout \u003c\u003c fieldFromFirstPoint \u003c\u003c '\\n';\r\n\r\n    int m;\r\n    cin \u003e\u003e m;\r\n\r\n    while (m--)\r\n    {\r\n        Point p;\r\n        cin \u003e\u003e p.x \u003e\u003e p.y;\r\n        double fieldFromAnyPoint = polygonFieldFromAnyPoint(points, p);\r\n        if (fabs(fieldFromFirstPoint - fieldFromAnyPoint) \u003c 0.01)\r\n        {\r\n            cout \u003c\u003c \"TAK\\n\";\r\n        }\r\n        else\r\n        {\r\n            cout \u003c\u003c \"NIE\\n\";\r\n        }\r\n    }\r\n\r\n    return 0;\r\n}\r\n"}},"__N_SSG":true},"page":"/temat/[id]","query":{"id":"46"},"buildId":"0i7uSj_HNaIBx2Ymanoqf","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>