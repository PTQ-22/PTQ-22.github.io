<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Programowanie i Algorytmika</title><meta name="next-head-count" content="3"/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-3433a2a2d0cf6fb6.js" defer=""></script><script src="/_next/static/chunks/framework-9b5d6ec4444c80fa.js" defer=""></script><script src="/_next/static/chunks/main-3123a443c688934f.js" defer=""></script><script src="/_next/static/chunks/pages/_app-dde6f6d9ff81fd35.js" defer=""></script><script src="/_next/static/chunks/664-ac1349529b76e794.js" defer=""></script><script src="/_next/static/chunks/589-41a19a63300fd6d7.js" defer=""></script><script src="/_next/static/chunks/pages/temat/%5Bid%5D-f2a028b549d66411.js" defer=""></script><script src="/_next/static/4N7fZbpBxC93La9vroqSB/_buildManifest.js" defer=""></script><script src="/_next/static/4N7fZbpBxC93La9vroqSB/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="sc-cfead117-0 jrQalH"><nav class="sc-5e5d03dd-0 esgUiK"><div class="sc-8cb5f743-0 iJvBAS"></div><h1>Czy dwa odcinki się przecinają</h1></nav><main class="sc-aea383bf-1 hGMMpm"><section class="sc-aea383bf-2 jzqygP"></section><section class="sc-aea383bf-3 fsbWdd"><pre style="display:block;overflow-x:auto;padding:0.5em;color:#abb2bf;background:#282c34"><code class="language-cpp" style="white-space:pre"><span style="color:#61aeee">#</span><span class="hljs-meta-keyword" style="color:#61aeee">include</span><span style="color:#61aeee"> </span><span style="color:#98c379">&lt;bits/stdc++.h&gt;</span><span>
</span><span></span><span style="color:#F92672">using</span><span> </span><span style="color:#F92672">namespace</span><span> std;
</span>
<span></span><span class="hljs-class" style="color:#F92672">struct</span><span class="hljs-class"> </span><span class="hljs-class" style="color:#61aeee">Point</span><span class="hljs-class">
</span><span class="hljs-class">{</span><span>
</span><span>    </span><span style="color:#F92672">int</span><span> x, y;
</span>};
<!-- -->
<span></span><span style="color:#F92672">int</span><span style="color:#61aeee"> </span><span style="color:#61aeee">det</span><span style="color:#61aeee">(Point a, Point b, Point c)</span><span style="color:#61aeee">
</span><span style="color:#61aeee"></span><span>{
</span><span>    </span><span style="color:#b18eb1;font-style:italic">// | ax ay 1 | ax ay</span><span>
</span><span>    </span><span style="color:#b18eb1;font-style:italic">// | bx by 1 | bx by</span><span>
</span><span>    </span><span style="color:#b18eb1;font-style:italic">// | cx cy 1 | cx cy</span><span>
</span><span>    </span><span style="color:#F92672">return</span><span> a.x * b.y + a.y * c.x + b.x * c.y 
</span>         - b.y * c.x - a.x * c.y - a.y * b.x;
<!-- -->}
<!-- -->
<span></span><span style="color:#F92672">int</span><span style="color:#61aeee"> </span><span style="color:#61aeee">sgn</span><span style="color:#61aeee">(</span><span style="color:#F92672">int</span><span style="color:#61aeee"> x)</span><span style="color:#61aeee">
</span><span style="color:#61aeee"></span><span>{
</span><span>    </span><span style="color:#F92672">if</span><span> (x &gt; </span><span style="color:#d19a66">0</span><span>) </span><span style="color:#F92672">return</span><span> </span><span style="color:#d19a66">1</span><span>;
</span><span>    </span><span style="color:#F92672">else</span><span> </span><span style="color:#F92672">if</span><span> (x == </span><span style="color:#d19a66">0</span><span>) </span><span style="color:#F92672">return</span><span> </span><span style="color:#d19a66">0</span><span>;
</span><span>    </span><span style="color:#F92672">return</span><span> </span><span style="color:#d19a66">-1</span><span>;
</span>}
<!-- -->
<span></span><span style="color:#F92672">bool</span><span style="color:#61aeee"> </span><span style="color:#61aeee">isPointOnLineSegment</span><span style="color:#61aeee">(Point line_start, Point line_end, Point point)</span><span style="color:#61aeee">
</span><span style="color:#61aeee"></span><span>{
</span><span>    </span><span style="color:#F92672">int</span><span> start_x = line_start.x;
</span><span>    </span><span style="color:#F92672">int</span><span> start_y = line_start.y;
</span><span>    </span><span style="color:#F92672">int</span><span> end_x = line_end.x;
</span><span>    </span><span style="color:#F92672">int</span><span> end_y = line_end.y;
</span>
<span>    </span><span style="color:#F92672">if</span><span> (start_x &gt; end_x) </span><span style="color:#e6c07b">swap</span><span>(start_x, end_x);
</span><span>    </span><span style="color:#F92672">if</span><span> (start_y &gt; end_y) </span><span style="color:#e6c07b">swap</span><span>(start_y, end_y);
</span>
<span>    </span><span style="color:#F92672">if</span><span> (</span><span style="color:#e6c07b">sgn</span><span>(</span><span style="color:#e6c07b">det</span><span>(line_start, line_end, point)) == </span><span style="color:#d19a66">0</span><span> 
</span>        &amp;&amp; 
<!-- -->        (start_x &lt;= point.x &amp;&amp; point.x &lt;= end_x) 
<!-- -->        &amp;&amp;
<!-- -->        (start_y &lt;= point.y &amp;&amp; point.y &lt;= end_y))
<span>        </span><span style="color:#F92672">return</span><span> </span><span style="color:#56b6c2">true</span><span>;
</span><span>    </span><span style="color:#F92672">return</span><span> </span><span style="color:#56b6c2">false</span><span>;
</span>}
<!-- -->
<span></span><span style="color:#F92672">int</span><span style="color:#61aeee"> </span><span style="color:#61aeee">main</span><span style="color:#61aeee">()</span><span style="color:#61aeee">
</span><span style="color:#61aeee"></span><span>{
</span>    Point p, q, a, d;
<!-- -->
<span>    cout &lt;&lt; </span><span style="color:#98c379">&quot;Podaj współrzędne odcinka pq: \n&quot;</span><span>;
</span><span>    cout &lt;&lt; </span><span style="color:#98c379">&quot;p: (x, y) \n&quot;</span><span>;
</span>    cin &gt;&gt; p.x &gt;&gt; p.y;
<span>    cout &lt;&lt; </span><span style="color:#98c379">&quot;q: (x, y) \n&quot;</span><span>;
</span>    cin &gt;&gt; q.x &gt;&gt; q.y;
<!-- -->
<!-- -->
<span>    cout &lt;&lt; </span><span style="color:#98c379">&quot;Podaj współrzędne odcinka ad: \n&quot;</span><span>;
</span><span>    cout &lt;&lt; </span><span style="color:#98c379">&quot;a: (x, y) \n&quot;</span><span>;
</span>    cin &gt;&gt; a.x &gt;&gt; a.y;
<span>    cout &lt;&lt; </span><span style="color:#98c379">&quot;d: (x, y) \n&quot;</span><span>;
</span>    cin &gt;&gt; d.x &gt;&gt; d.y;
<!-- -->
<!-- -->
<span>    </span><span style="color:#F92672">if</span><span> (</span><span style="color:#e6c07b">sgn</span><span>(</span><span style="color:#e6c07b">det</span><span>(p, q, a)) != </span><span style="color:#e6c07b">sgn</span><span>(</span><span style="color:#e6c07b">det</span><span>(p, q, d)) &amp;&amp; </span><span style="color:#e6c07b">sgn</span><span>(</span><span style="color:#e6c07b">det</span><span>(a, d, p)) != </span><span style="color:#e6c07b">sgn</span><span>(</span><span style="color:#e6c07b">det</span><span>(a, d, q))
</span><span>        || </span><span style="color:#e6c07b">isPointOnLineSegment</span><span>(p, q, a)
</span><span>        || </span><span style="color:#e6c07b">isPointOnLineSegment</span><span>(p, q, d)
</span><span>        || </span><span style="color:#e6c07b">isPointOnLineSegment</span><span>(a, d, p)
</span><span>        || </span><span style="color:#e6c07b">isPointOnLineSegment</span><span>(a, d, q)
</span>        ) {
<span>        cout &lt;&lt; </span><span style="color:#98c379">&quot;Odcinki pq i ad się przecinają\n&quot;</span><span>;
</span>    }
<span>    </span><span style="color:#F92672">else</span><span> {
</span><span>        cout &lt;&lt; </span><span style="color:#98c379">&quot;Odcinki pq i ad się NIE przecinają\n&quot;</span><span>;
</span>    }
<!-- -->
<span>    </span><span style="color:#F92672">return</span><span> </span><span style="color:#d19a66">0</span><span>;
</span>}</code></pre><div class="sc-ce58b15c-0 vGozJ"><div class="sc-ce58b15c-1 iIIZwY"><svg stroke="#fff" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg><span>Skopiuj</span></div><div class="sc-ce58b15c-1 iIIZwY"><svg stroke="#fff" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg><span>Pobierz</span></div></div></section></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"subject":{"id":44,"name":"Czy dwa odcinki się przecinają","description":"","code":"#include \u003cbits/stdc++.h\u003e\r\nusing namespace std;\r\n\r\nstruct Point\r\n{\r\n    int x, y;\r\n};\r\n\r\nint det(Point a, Point b, Point c)\r\n{\r\n    // | ax ay 1 | ax ay\r\n    // | bx by 1 | bx by\r\n    // | cx cy 1 | cx cy\r\n    return a.x * b.y + a.y * c.x + b.x * c.y \r\n         - b.y * c.x - a.x * c.y - a.y * b.x;\r\n}\r\n\r\nint sgn(int x)\r\n{\r\n    if (x \u003e 0) return 1;\r\n    else if (x == 0) return 0;\r\n    return -1;\r\n}\r\n\r\nbool isPointOnLineSegment(Point line_start, Point line_end, Point point)\r\n{\r\n    int start_x = line_start.x;\r\n    int start_y = line_start.y;\r\n    int end_x = line_end.x;\r\n    int end_y = line_end.y;\r\n\r\n    if (start_x \u003e end_x) swap(start_x, end_x);\r\n    if (start_y \u003e end_y) swap(start_y, end_y);\r\n\r\n    if (sgn(det(line_start, line_end, point)) == 0 \r\n        \u0026\u0026 \r\n        (start_x \u003c= point.x \u0026\u0026 point.x \u003c= end_x) \r\n        \u0026\u0026\r\n        (start_y \u003c= point.y \u0026\u0026 point.y \u003c= end_y))\r\n        return true;\r\n    return false;\r\n}\r\n\r\nint main()\r\n{\r\n    Point p, q, a, d;\r\n\r\n    cout \u003c\u003c \"Podaj współrzędne odcinka pq: \\n\";\r\n    cout \u003c\u003c \"p: (x, y) \\n\";\r\n    cin \u003e\u003e p.x \u003e\u003e p.y;\r\n    cout \u003c\u003c \"q: (x, y) \\n\";\r\n    cin \u003e\u003e q.x \u003e\u003e q.y;\r\n\r\n\r\n    cout \u003c\u003c \"Podaj współrzędne odcinka ad: \\n\";\r\n    cout \u003c\u003c \"a: (x, y) \\n\";\r\n    cin \u003e\u003e a.x \u003e\u003e a.y;\r\n    cout \u003c\u003c \"d: (x, y) \\n\";\r\n    cin \u003e\u003e d.x \u003e\u003e d.y;\r\n\r\n\r\n    if (sgn(det(p, q, a)) != sgn(det(p, q, d)) \u0026\u0026 sgn(det(a, d, p)) != sgn(det(a, d, q))\r\n        || isPointOnLineSegment(p, q, a)\r\n        || isPointOnLineSegment(p, q, d)\r\n        || isPointOnLineSegment(a, d, p)\r\n        || isPointOnLineSegment(a, d, q)\r\n        ) {\r\n        cout \u003c\u003c \"Odcinki pq i ad się przecinają\\n\";\r\n    }\r\n    else {\r\n        cout \u003c\u003c \"Odcinki pq i ad się NIE przecinają\\n\";\r\n    }\r\n\r\n    return 0;\r\n}"}},"__N_SSG":true},"page":"/temat/[id]","query":{"id":"44"},"buildId":"4N7fZbpBxC93La9vroqSB","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>