<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Programowanie i Algorytmika</title><meta name="next-head-count" content="3"/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-3433a2a2d0cf6fb6.js" defer=""></script><script src="/_next/static/chunks/framework-9b5d6ec4444c80fa.js" defer=""></script><script src="/_next/static/chunks/main-3123a443c688934f.js" defer=""></script><script src="/_next/static/chunks/pages/_app-dde6f6d9ff81fd35.js" defer=""></script><script src="/_next/static/chunks/664-ac1349529b76e794.js" defer=""></script><script src="/_next/static/chunks/589-41a19a63300fd6d7.js" defer=""></script><script src="/_next/static/chunks/pages/temat/%5Bid%5D-7adb0dadbad8d3b7.js" defer=""></script><script src="/_next/static/HIayXdr4urq0l-Cg3vsAe/_buildManifest.js" defer=""></script><script src="/_next/static/HIayXdr4urq0l-Cg3vsAe/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="sc-cfead117-0 jrQalH"><nav class="sc-5e5d03dd-0 esgUiK"><div class="sc-8cb5f743-0 iJvBAS"></div><h1>Czy istnieje cykl</h1></nav><main class="sc-9cb9d9d3-1 jUkdLw"><section class="sc-9cb9d9d3-2 eEYnhx"></section><section class="sc-9cb9d9d3-3 gsbrmT"><pre style="display:block;overflow-x:auto;padding:0.5em;color:#abb2bf;background:#282c34"><code class="language-cpp" style="white-space:pre"><span style="color:#61aeee">#</span><span class="hljs-meta-keyword" style="color:#61aeee">include</span><span style="color:#98c379">&lt;iostream&gt;</span><span>
</span><span></span><span style="color:#61aeee">#</span><span class="hljs-meta-keyword" style="color:#61aeee">include</span><span style="color:#98c379">&lt;vector&gt;</span><span>
</span><span></span><span style="color:#61aeee">#</span><span class="hljs-meta-keyword" style="color:#61aeee">include</span><span style="color:#61aeee"> </span><span style="color:#98c379">&lt;stack&gt;</span><span>
</span>
<span></span><span style="color:#F92672">using</span><span> </span><span style="color:#F92672">namespace</span><span> std;
</span>
<span></span><span style="color:#F92672">constexpr</span><span> </span><span style="color:#F92672">int</span><span> MAX_N = </span><span style="color:#d19a66">1&#x27;000&#x27;000</span><span>;
</span><span>vector&lt;</span><span style="color:#F92672">int</span><span>&gt; G[MAX_N];
</span><span></span><span style="color:#F92672">bool</span><span> vis[MAX_N];
</span>
<span></span><span style="color:#F92672">bool</span><span style="color:#61aeee"> </span><span style="color:#61aeee">isCycle</span><span style="color:#61aeee">(</span><span style="color:#F92672">int</span><span style="color:#61aeee"> start)</span><span style="color:#61aeee">
</span><span style="color:#61aeee"></span><span>{
</span><span>    stack&lt;pair&lt;</span><span style="color:#F92672">int</span><span>, </span><span style="color:#F92672">int</span><span>&gt;&gt; S;
</span>
<span>    S.</span><span style="color:#e6c07b">push</span><span>({start, start});
</span><span>    vis[start] = </span><span style="color:#56b6c2">true</span><span>;
</span>
<span>    </span><span style="color:#F92672">while</span><span> (!S.</span><span style="color:#e6c07b">empty</span><span>()) {
</span><span>        </span><span style="color:#F92672">int</span><span> v = S.</span><span style="color:#e6c07b">top</span><span>().first;
</span><span>        </span><span style="color:#F92672">int</span><span> p = S.</span><span style="color:#e6c07b">top</span><span>().second;
</span><span>        S.</span><span style="color:#e6c07b">pop</span><span>();
</span>
<span>        </span><span style="color:#F92672">for</span><span> (</span><span style="color:#F92672">int</span><span> u : G[v]) {
</span><span>            </span><span style="color:#F92672">if</span><span> (!vis[u]) {
</span><span>                vis[u] = </span><span style="color:#56b6c2">true</span><span>;
</span><span>                S.</span><span style="color:#e6c07b">push</span><span>({u, v});
</span>            }
<span>            </span><span style="color:#F92672">else</span><span> </span><span style="color:#F92672">if</span><span> (u != p){ 
</span><span>                </span><span style="color:#F92672">return</span><span> </span><span style="color:#56b6c2">true</span><span>;
</span>            }
<!-- -->        }
<!-- -->    }
<span>    </span><span style="color:#F92672">return</span><span> </span><span style="color:#56b6c2">false</span><span>;
</span>}
<!-- -->
<!-- -->
<span></span><span style="color:#F92672">int</span><span style="color:#61aeee"> </span><span style="color:#61aeee">main</span><span style="color:#61aeee">()</span><span style="color:#61aeee">
</span><span style="color:#61aeee"></span><span>{
</span><span>    </span><span style="color:#F92672">int</span><span> n, m;
</span>    cin &gt;&gt; n &gt;&gt; m;
<!-- -->
<span>    </span><span style="color:#F92672">int</span><span> a, b;
</span><span>    </span><span style="color:#F92672">for</span><span> (</span><span style="color:#F92672">int</span><span> i = </span><span style="color:#d19a66">1</span><span>; i &lt;= m; ++i) {
</span>        cin &gt;&gt; a &gt;&gt; b;
<span>        G[a].</span><span style="color:#e6c07b">push_back</span><span>(b);
</span><span>        G[b].</span><span style="color:#e6c07b">push_back</span><span>(a);
</span>    }
<!-- -->
<span>    </span><span style="color:#F92672">for</span><span> (</span><span style="color:#F92672">int</span><span> i = </span><span style="color:#d19a66">1</span><span>; i &lt;= n; ++i) {
</span><span>        </span><span style="color:#F92672">if</span><span> (!vis[i]) {
</span><span>            </span><span style="color:#F92672">if</span><span> (</span><span style="color:#e6c07b">isCycle</span><span>(i)) {
</span><span>                cout &lt;&lt; </span><span style="color:#98c379">&quot;Cycle exists\n&quot;</span><span>;
</span><span>                </span><span style="color:#F92672">return</span><span> </span><span style="color:#d19a66">0</span><span>;
</span>            }
<!-- -->        }
<!-- -->    }
<span>    cout &lt;&lt; </span><span style="color:#98c379">&quot;Cycle does not exists\n&quot;</span><span>;
</span>
<span>    </span><span style="color:#F92672">return</span><span> </span><span style="color:#d19a66">0</span><span>;
</span>}</code></pre><div class="sc-9cb9d9d3-4 cYHBC">Kopiuj<!-- --> </div></section></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"subject":{"id":32,"name":"Czy istnieje cykl","description":"","code":"#include\u003ciostream\u003e\r\n#include\u003cvector\u003e\r\n#include \u003cstack\u003e\r\n\r\nusing namespace std;\r\n\r\nconstexpr int MAX_N = 1'000'000;\r\nvector\u003cint\u003e G[MAX_N];\r\nbool vis[MAX_N];\r\n\r\nbool isCycle(int start)\r\n{\r\n    stack\u003cpair\u003cint, int\u003e\u003e S;\r\n\r\n    S.push({start, start});\r\n    vis[start] = true;\r\n\r\n    while (!S.empty()) {\r\n        int v = S.top().first;\r\n        int p = S.top().second;\r\n        S.pop();\r\n\r\n        for (int u : G[v]) {\r\n            if (!vis[u]) {\r\n                vis[u] = true;\r\n                S.push({u, v});\r\n            }\r\n            else if (u != p){ \r\n                return true;\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\n\r\nint main()\r\n{\r\n    int n, m;\r\n    cin \u003e\u003e n \u003e\u003e m;\r\n\r\n    int a, b;\r\n    for (int i = 1; i \u003c= m; ++i) {\r\n        cin \u003e\u003e a \u003e\u003e b;\r\n        G[a].push_back(b);\r\n        G[b].push_back(a);\r\n    }\r\n\r\n    for (int i = 1; i \u003c= n; ++i) {\r\n        if (!vis[i]) {\r\n            if (isCycle(i)) {\r\n                cout \u003c\u003c \"Cycle exists\\n\";\r\n                return 0;\r\n            }\r\n        }\r\n    }\r\n    cout \u003c\u003c \"Cycle does not exists\\n\";\r\n\r\n    return 0;\r\n}"}},"__N_SSG":true},"page":"/temat/[id]","query":{"id":"32"},"buildId":"HIayXdr4urq0l-Cg3vsAe","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>